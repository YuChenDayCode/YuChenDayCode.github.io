---
title: C# 数组拆分（泛型）
date: 2019/1/1 20:56
tags: C#
---
 # C# 数组拆分（泛型）

主要用到了泛型。

泛型是[c#](https://baike.baidu.com/item/c%23)2.0的一个新增加的特性，它为使用c#语言编写[面向对象程序](https://baike.baidu.com/item/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F)增加了极大的效力和灵活性。不会强行对值类型进行装箱和拆箱，或对引用类型进行向下[强制类型转换](https://baike.baidu.com/item/%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2)，所以性能得到提高。通过知道使用泛型定义的变量的类型限制，编译器可以在一个高得多的程度上验证类型假设，所以泛型提高了程序的类型安全。它允许程序员将一个实际的数据类型的规约延迟至泛型的实例被创建时才确定。泛型为开发者提供了一种高性能的编程方式，能够提高代码的重用性，并允许开发者编写非常优雅的解决方案。



```c#
public List<List<T>> SplitList<T>(List<T> list, int size)
        {
            List<List<T>> result = new List<List<T>>();
            for (int i = 0; i < list.Count() / size; i++)
            {
                T[] clist = new T[size];
                list.CopyTo(i * size, clist, 0, size);
                result.Add(clist.ToList());
            }
 
            int r = list.Count() % size;
            if (r != 0)
            {
                T[] cclist = new T[r];
                list.CopyTo(list.Count() - r, cclist, 0, r);
                result.Add(cclist.ToList());
            }
 
            return result;
```



原始数组：

![img](http://tnblog.net/arcimg/cz/6d684bcdc5b84528a5855f5edd886f4f.png)



拆分后：

![img](http://tnblog.net/arcimg/cz/5432310f40004dda8e8bee3b77a8adfa.png)

